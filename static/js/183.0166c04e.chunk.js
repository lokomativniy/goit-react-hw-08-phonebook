"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[183],{2183:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a="Section_section__NnORp",s="Section_title__6Q2E8",r=t(3329),i=function(e){var n=e.title,t=e.children;return(0,r.jsxs)("div",{className:a,children:[n&&(0,r.jsx)("h2",{className:s,children:n}),t]})},c=t(885),o=t(2791),l=t(2978),u={input:"ContactForm_input__7+hp6",btn:"ContactForm_btn__cgJhM"},d=function(e){var n;return null===(n=e.contactsApi.queries["fetchContacts(undefined)"])||void 0===n?void 0:n.data},m=function(e){return e.filter},h=t(7533),f=t(6960),p=t(7496),_=t(8596),x=function(){var e=(0,h.Tn)(),n=(0,c.Z)(e,2),t=n[0],a=n[1].isLoading,s=(0,o.useState)(""),i=(0,c.Z)(s,2),m=i[0],x=i[1],b=(0,o.useState)(""),j=(0,c.Z)(b,2),C=j[0],v=j[1],g=(0,l.v9)(d),N=(0,_.Z)((function(e){return{submit:{margin:e.spacing(3,0,2)}}}))(),y=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":x(a);break;case"number":v(a);break;default:return}},w=function(){x(""),v("")};return(0,r.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),g.find((function(e){return e.name.toLowerCase()===m.toLowerCase()})))return f.Am.error("".concat(m," is already in contacts")),void w();t({name:m,number:C}),f.Am.success("".concat(m," is successfully added in contacts")),w()},className:N.form,children:[(0,r.jsxs)("label",{className:u.label,children:["Name",(0,r.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:m,onChange:y,className:u.input,autoComplete:"off",placeholder:"Please enter name"})]}),(0,r.jsxs)("label",{className:u.label,children:["Phone",(0,r.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:C,onChange:y,className:u.input,autoComplete:"off",placeholder:"Please enter number"})]}),(0,r.jsx)(p.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:N.submit,disabled:a,children:a?"Adding...":"Add contact"})]})},b=t(1413),j="ListContact_list__355y3",C="ListContact_item__0I2r9",v="ListContact_span__Ysof3",g="ListContact_loader__MwtTZ",N="ListContact_title__oWwtE",y="ListContact_btn__OV57B",w=function(e){var n=e.id,t=e.name,a=e.number,s=(0,h.Nt)(),i=(0,c.Z)(s,2),o=i[0],l=i[1].isLoading;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("li",{className:C,children:["name : ",(0,r.jsx)("span",{className:v,children:t}),(0,r.jsx)("br",{})," phone : ",(0,r.jsx)("span",{className:v,children:a}),(0,r.jsx)("button",{className:y,onClick:function(){o(n),f.Am.success("".concat(t," is successfully deleted"))},disabled:l,children:l?(0,r.jsx)("p",{children:"Deleting..."}):"Delete"})]})})},A=t(8091),L=function(){var e=(0,l.v9)(m),n=(0,h.Jx)(),t=n.data,a=n.error,s=n.isFetching,i=e.toLowerCase();return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:N,children:"Contacts"}),(0,r.jsx)("div",{className:g,children:s&&(0,r.jsx)(A.Z,{})}),a&&f.Am.error("Something went wrong"),t&&(0,r.jsx)("ul",{className:j,children:function(){if(t)return t.filter((function(e){return e.name.toLowerCase().includes(i)}))}().map((function(e){return(0,r.jsx)(w,(0,b.Z)({},e),e.id)}))})]})},Z="Filter_label__HzV7M",k="Filter_input__kID2p",F=t(8728),S=function(){var e=(0,l.v9)(m),n=(0,l.I0)();return(0,r.jsxs)("label",{className:Z,children:["Find contacts by name",(0,r.jsx)("input",{value:e,className:k,onChange:function(e){return n((0,F.M)(e.target.value))},name:"filter",type:"text",autoComplete:"off"})]})},z=function(){return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"15px"},children:[(0,r.jsxs)(i,{title:"Phonebook",children:[(0,r.jsx)(x,{}),(0,r.jsx)(S,{})]}),(0,r.jsx)(i,{children:(0,r.jsx)(L,{})})]})}}}]);
//# sourceMappingURL=183.0166c04e.chunk.js.map